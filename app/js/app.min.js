!function(){"use strict";var t=function(t,e){const n=document.querySelector(".info-messages"),a=document.querySelector(".info-messages__body");n.classList.add("show"),a.innerHTML=`\n\t<div class="info-messages__img">\n\t\t<div class="info-messages__img-container">\n\t\t\t<img src="../../images/dist/${"ok"===e?"ok.svg":"error.svg"}" alt="${t}">\n\t\t</div>\n\t\t</div>\n\t\t<div class="info-messages__message">\n\t\t\t<span>${t}</span>\n\t\t</div>\n\n\t`,setTimeout((()=>{n.classList.remove("show"),a.textContent=""}),3e3)};var e=()=>{localStorage.getItem("fullCarConfig")&&n();function e(t){return t.map((t=>t.percent)).reduce(((t,e)=>t+e),0)/t.length}function n(){document.querySelector(".saved-config__items").innerHTML="";JSON.parse(localStorage.getItem("fullCarConfig")).forEach(((t,n)=>{!function(t,n){document.querySelector(".saved-config__items").insertAdjacentHTML("beforeEnd",`\n\t\t\t<div id="config_${n}" class="saved-config__item config">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<legend class="config__title" align="right">Config ${n+1}</legend>\n\t\t\t\t\t\t<ul class="config__list">\n\t\t\t\t\t\t\t${function(t){const e=document.createElement("div");return t.forEach((t=>{e.insertAdjacentHTML("beforeEnd",`\n\t\t\t\t<li class="config__li">\n\t\t\t\t\t<span class="config__part">${t.part}:</span>\n\t\t\t\t\t<span class="config__value">${t.percent}%</span>\t\n\t\t\t\t</li>\n\t\t\t`)})),e.innerHTML}(t)}\n\t\t\t\t\t\t\t<li class="config__li total">\n\t\t\t\t\t\t\t\t<span class="config__part">Total:</span>\n\t\t\t\t\t\t\t\t<span class="config__value">${e(t)}%</span>\t\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<div class="config__buttons">\n\t\t\t\t\t\t<button id="btn_${n}" class="config__button">\n\t\t\t\t\t\t\t<img src="images/dist/delete.svg" alt="delete">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t</div>\n\t\t\t`)}(t,n),a()}))}function a(){const t=document.querySelector(".saved-config__items"),e=document.querySelector(".saved-config__sum");e.textContent="0",e.textContent=t.childElementCount}function o(t,e){const n=Object.getOwnPropertyNames(t),a=Object.getOwnPropertyNames(e);if(n.length!==a.length)return!1;for(let a=0;a<n.length;a+=1){const r=n[a],s="object"==typeof t[r]&&"object"==typeof e[r];if(!s&&t[r]!==e[r]||s&&!o(t[r],e[r]))return!1}return!0}document.getElementById("save-config").addEventListener("click",(()=>{const a=JSON.parse(localStorage.getItem("carConfig"));e(a)?localStorage.getItem("fullCarConfig")?function(){const e=JSON.parse(localStorage.getItem("carConfig")),a=JSON.parse(localStorage.getItem("fullCarConfig"));let r=a.filter(((t,e)=>e===a.length-1));a.length<3?o(r[0],e)?t("This configuration has already been saved","error"):function(){const e=JSON.parse(localStorage.getItem("carConfig")),a=[...JSON.parse(localStorage.getItem("fullCarConfig")),e];localStorage.setItem("fullCarConfig",JSON.stringify(a)),n(),t("successfully saved","ok")}():t("the maximum quantity of configurations is - 3","error")}():localStorage.getItem("fullCarConfig")||(localStorage.setItem("fullCarConfig",JSON.stringify([a])),n(),t("successfully saved","ok")):t("create configurations","error")})),function(){const e=document.querySelector(".saved-config__items");e.addEventListener("click",(o=>{o.preventDefault();const r=JSON.parse(localStorage.getItem("fullCarConfig"));if(o.target.parentNode.classList.contains("config__button")){let s=+o.target.parentNode.id.split("_")[1];const c=r.filter(((t,e)=>e!==s));localStorage.setItem("fullCarConfig",JSON.stringify(c)),n(),r.length<2&&(localStorage.removeItem("fullCarConfig"),a(),e.textContent="No saved config"),t("successfully deleted","ok")}}))}(),function(){const t=document.querySelector(".saved-config");document.querySelector(".saved-config__button").addEventListener("click",(()=>{t.classList.toggle("show")}))}(),a()};const n=t=>56*Math.PI-t/100*28*2*Math.PI,a=t=>document.querySelector(".percent-block__item").offsetHeight/101*t;function o(){const t=document.querySelector(".total-value__progress"),e=document.querySelector(".total-value__curretnt-value"),n=JSON.parse(localStorage.getItem("carConfig"));let a=n.map((t=>t.percent)).reduce(((t,e)=>t+e),0);t.style.width=a/n.length+"%",e.textContent=a/n.length+"%"}function r(){const t=document.querySelectorAll(".car-panel__item"),e=JSON.parse(localStorage.getItem("carConfig"));t.forEach((t=>{let o=e.filter((e=>e.part===t.dataset.panel));t.querySelector(".progress-ring").style.strokeDashoffset=n(o[0].percent),t.querySelector(".percent").textContent=o[0].percent,t.querySelector(".percent-block__item").style.top=`-${a(o[0].percent)}px`})),o()}function s(t){const e=JSON.parse(localStorage.getItem("carConfig"));if(e){let a=e.filter((e=>e.part===t));a[0].percent>0?(n=a[0].part,c.forEach((t=>{t.dataset.parts===n&&t.classList.add("active")}))):0==a[0].percent&&function(t){c.forEach((e=>{e.dataset.parts===t&&e.classList.remove("active")}))}(a[0].part)}var n}o();const c=document.querySelectorAll(".part");(()=>{function t(){document.querySelectorAll(".car-panel__item").forEach((t=>{t.querySelector(".progress-ring").style.strokeDashoffset=n(100),t.querySelector(".percent-block__item").style.top=`-${a(100)}px`})),setTimeout(r,1e3)}t();const e=()=>{const t=document.querySelectorAll(".part");t.forEach(((e,n)=>{e.dataset.parts&&setTimeout((()=>{e.classList.add("active"),t.length-1==n&&o()}),200*n)}))};e();const o=()=>{document.querySelectorAll(".part").forEach(((t,e)=>{t.dataset.parts&&setTimeout((()=>{s(t.dataset.parts)}),200*e)}))};function c(){const t=document.querySelector(".total-value__progress"),e=document.querySelector(".total-value__curretnt-value");t.style.width="100%",e.textContent="100%"}document.getElementById("animation").addEventListener("click",(()=>{t(),e(),c()})),c()})(),e();const l=document.querySelector(".car"),i=document.querySelectorAll(".part"),d=document.querySelector(".hint"),g=[{part:"door",percent:0},{part:"threshold",percent:0},{part:"wing",percent:0},{part:"roof",percent:0},{part:"hood",percent:0}],u=JSON.parse(localStorage.getItem("carConfig"));localStorage.getItem("carConfig")?u.forEach((t=>{p(t.part,t.percent),s(t.part)})):(g.forEach((t=>{p(t.part,t.percent),s(t.part)})),localStorage.setItem("carConfig",JSON.stringify(g)));document.querySelector(".car-panel__items").addEventListener("click",(t=>{if(t.target.closest(".car-panel__item")){const e=t.target.dataset.panel;f(e),h(),d.classList.add("visible"),t.pageX+d.offsetWidth<document.body.offsetWidth?(d.style.top=t.pageY-70+"px",d.style.left=t.pageX+15+"px"):(d.style.top=t.pageY-70+"px",d.style.left=t.pageX-d.offsetWidth-10+"px")}else t.target.closest(".carPanelItems")||d.classList.remove("visible")})),l.addEventListener("click",(t=>{if(t.target.parentNode.closest(".part")){const e=t.target.parentNode.dataset.parts;f(e),h(),d.classList.add("visible"),t.pageX+d.offsetWidth<document.body.offsetWidth?(d.style.top=t.pageY-70+"px",d.style.left=t.pageX+15+"px"):(d.style.top=t.pageY+10+"px",d.style.left=t.pageX-d.offsetWidth-10+"px")}else t.target.parentNode.closest(".car")||d.classList.remove("visible")}));const f=t=>{const e=document.querySelector(".part-info__title"),n=document.querySelector(".part-info__input");e.textContent=`${t}`,n.value=`${function(t){return JSON.parse(localStorage.getItem("carConfig")).filter((e=>e.part===t))[0].percent}(t)}`,n.dataset.input=`${t}`};function p(t,e){const a=document.querySelector(".car-panel__items");let o=56*Math.PI;a.insertAdjacentHTML("beforeEnd",`\n\t\t<li class="car-panel__item" data-panel="${t}">\n\t\t\t<div class="car-panel__name">\n\t\t\t${t}\n\t\t\t</div>\n\t\t\t<div class="car-panel__progress progress">\n\t\t\t\t<div class="progress__item">\n\t\t\t\t<svg\t\t\t\t\n\t\t\t\t\twidth="80"\n\t\t\t\t\theight="80">\n\t\t\t\t\t<circle\t\t\t\t \n\t\t\t\t\t\tstroke="#9e9e9e"\n\t\t\t\t\t\tstroke-width="5"\n\t\t\t\t\t\tfill="transparent"\n\t\t\t\t\t\tr="28"\n\t\t\t\t\t\tcx="40"\n\t\t\t\t\t\tcy="40"/>\n\t\t\t\t\t<circle\n\t\t\t\t\t\tclass="progress-ring"\n\t\t\t\t\t\tstroke-dasharray="${o} ${o}"\n\t\t\t\t\t\tstyle="stroke-dashoffset:${n(e)}"\n\t\t\t\t\t\tstroke="#5fdd5a"\n\t\t\t\t\t\tstroke-width="5"\n\t\t\t\t\t\tfill="transparent"\n\t\t\t\t\t\tprogress="0"\n\t\t\t\t\t\tr="28"\n\t\t\t\t\t\tcx="40"\n\t\t\t\t\t\tcy="40"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<style>\n\t\t\t\t\t.progress-ring {\n\t\t\t\t\t\ttransition: stroke-dashoffset 1s;\n\t\t\t\t\t\ttransform: rotate(-90deg);\n\t\t\t\t\t\ttransform-origin: 50% 50%;\t\n\t\t\t\t\t}\n\t\t\t\t\t</style>\n\t\t\t\t\t<div style="display: none;" class="progress__percent"><span class="percent">${e}</span>%</div>\n\n\t\t\t\t\t<div class="percent-block">\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t\t`)}document.querySelector(".part-info__button").addEventListener("click",(t=>{t.preventDefault(),d.classList.remove("visible")}));const m=document.querySelectorAll(".percent-block");m&&m.forEach((t=>{t.insertAdjacentElement("beforeEnd",function(t){const e=document.createElement("div");e.classList.add("percent-block__item");for(let n=0;n<t+1;n++)e.innerHTML+=`<span>${n}%</span>`;return e}(100))}));document.getElementById("reset").addEventListener("click",(()=>v()));const v=()=>{d.classList.remove("visible"),i.forEach((t=>{t.classList.contains("active")&&t.classList.remove("active")})),localStorage.setItem("carConfig",JSON.stringify(g)),r(),t("data has been successfully reset","ok")};document.querySelectorAll(".car-panel__item").forEach((t=>{t.addEventListener("mouseover",(t=>{let e=t.target.dataset.panel.toLowerCase();_(e)})),t.addEventListener("mouseout",(t=>{let e=t.target.dataset.panel.toLowerCase();_(e)}))}));const _=t=>{i.forEach((e=>{e.dataset.parts===t&&e.classList.toggle("hover")}))};i.forEach((t=>{t.addEventListener("mouseover",(function(t){if(t.target.parentNode.closest(".part")){let e=t.target.parentNode.dataset.parts.toLowerCase();S(e)}})),t.addEventListener("mouseout",(t=>{let e=t.target.parentNode.dataset.parts.toLowerCase();S(e)}))}));const S=t=>{document.querySelectorAll(".car-panel__item").forEach((e=>{e.dataset.panel===t&&e.classList.toggle("hover")}))},y=(new Date).getFullYear();function h(){const t=document.querySelector(".part-info__input");t.addEventListener("change",(e=>{if(t.value<101&&t.value>-1){const e=JSON.parse(localStorage.getItem("carConfig")),n=[];e.forEach((e=>{n.push(e),e.part===t.dataset.input&&(e.percent=+t.value)})),localStorage.setItem("carConfig",JSON.stringify(n)),r(),s(t.dataset.input)}}))}document.getElementById("date").innerText=y;const C=document.querySelector(".part-info__input"),E=document.querySelector(".up"),L=document.querySelector(".down");E.onclick=function(){let t=parseInt(C.value,10);if(t=isNaN(t)?0:t,t+=10,t<101&&t>-1){C.value=t;const e=JSON.parse(localStorage.getItem("carConfig")),n=[];e.forEach((t=>{n.push(t),t.part===C.dataset.input&&(t.percent=+C.value)})),localStorage.setItem("carConfig",JSON.stringify(n)),r(),s(C.dataset.input)}},L.onclick=function(){let t=parseInt(C.value,10);if(t=isNaN(t)?0:t,t-=10,t<101&&t>-1){C.value=t;const e=JSON.parse(localStorage.getItem("carConfig")),n=[];e.forEach((t=>{n.push(t),t.part===C.dataset.input&&(t.percent=+C.value)})),localStorage.setItem("carConfig",JSON.stringify(n)),r(),s(C.dataset.input)}}}();